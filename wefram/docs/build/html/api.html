<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="prev" title="Reserved ORM attribute names" href="ds/reserved.html" />

    <meta name="generator" content="sphinx-4.4.0, furo 2022.01.02"/>
        <title>API - Wefram 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=df49af52631e7917044a9c21a57f7b83170a6dd0" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=fade93df149f7c5fedb3ff897f799dc7d283b420" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" />
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Wefram 1.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">Wefram 1.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="ds.html">Data storage</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="ds/orm.html">ORM basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="ds/models.html">More about Models &amp; Model.Meta</a></li>
<li class="toctree-l2"><a class="reference internal" href="ds/reserved.html">Reserved ORM attribute names</a></li>
</ul>
</li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">API</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="api">
<h1>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<p>The platform consists of both backend and frontend. Each of those two
parts doing own work - backend is a server-side, data-storing and
computing set of processes. Frontend is an any application, including
web browser tab with loaded Wefram-based web code, or mobile apps for
Android, Apple iOS and etc.</p>
<p>The frontend itself costs nothing without working backend and a some
posibility to interact with it. The API <em>is</em> the way the frontend and
backend, in general, interacting with each other.</p>
<dl class="py class">
<dt class="sig sig-object py" id="wefram.api.EntityAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wefram.api.</span></span><span class="sig-name descname"><span class="pre">EntityAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wefram.api.EntityAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>The API-ready entity abstract class. Implements much of logics for the HTTP
requests handling, endpointing to the EntityCRUD defined abstract methods.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.allow_create">
<span class="sig-name descname"><span class="pre">allow_create</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#wefram.api.EntityAPI.allow_create" title="Permalink to this definition">¶</a></dt>
<dd><p>If set to <cite>True</cite> (default) - the method is allowed and will be routed. If
<strong>requires</strong> property has been specified - it will be applied to this method.
If set to <cite>False</cite> - the method is prohibited and will not be routed. If set
to list type - then this method is allowed, will be routed, but requirements
for security access permissions (scopes) will be overrided with the given
list of permissions (even if has been specified by <strong>requires</strong> property).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyEntity1</span><span class="p">(</span><span class="n">EntityAPI</span><span class="p">):</span>
    <span class="c1"># Permit the method, but require 'some_access' permission</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'some_access'</span><span class="p">]</span>
    <span class="n">allow_create</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># may be omitted because by default is True</span>

<span class="k">class</span> <span class="nc">MyEntity2</span><span class="p">(</span><span class="n">EntityAPI</span><span class="p">):</span>
    <span class="c1"># Permit the method &amp; requires 'other_permission', and not requires</span>
    <span class="c1"># any other permissions to access.</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'some_access'</span><span class="p">]</span>
    <span class="n">allow_create</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'other_permission'</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.allow_delete">
<span class="sig-name descname"><span class="pre">allow_delete</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#wefram.api.EntityAPI.allow_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>If set to <cite>True</cite> (default) - the method is allowed and will be routed. If
<strong>requires</strong> property has been specified - it will be applied to this method.
If set to <cite>False</cite> - the method is prohibited and will not be routed. If set
to list type - then this method is allowed, will be routed, but requirements
for security access permissions (scopes) will be overrided with the given
list of permissions (even if has been specified by <strong>requires</strong> property).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyEntity1</span><span class="p">(</span><span class="n">EntityAPI</span><span class="p">):</span>
    <span class="c1"># Permit the method, but require 'some_access' permission</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'some_access'</span><span class="p">]</span>
    <span class="n">allow_delete</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># may be omitted because by default is True</span>

<span class="k">class</span> <span class="nc">MyEntity2</span><span class="p">(</span><span class="n">EntityAPI</span><span class="p">):</span>
    <span class="c1"># Permit the method &amp; requires 'other_permission', and not requires</span>
    <span class="c1"># any other permissions to access.</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'some_access'</span><span class="p">]</span>
    <span class="n">allow_delete</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'other_permission'</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.allow_options">
<span class="sig-name descname"><span class="pre">allow_options</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#wefram.api.EntityAPI.allow_options" title="Permalink to this definition">¶</a></dt>
<dd><p>If set to <cite>True</cite> (default) - the method is allowed and will be routed. If
<strong>requires</strong> property has been specified - it will be applied to this method.
If set to <cite>False</cite> - the method is prohibited and will not be routed. If set
to list type - then this method is allowed, will be routed, but requirements
for security access permissions (scopes) will be overrided with the given
list of permissions (even if has been specified by <strong>requires</strong> property).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyEntity1</span><span class="p">(</span><span class="n">EntityAPI</span><span class="p">):</span>
    <span class="c1"># Permit the method, but require 'some_access' permission</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'some_access'</span><span class="p">]</span>
    <span class="n">allow_options</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># may be omitted because by default is True</span>

<span class="k">class</span> <span class="nc">MyEntity2</span><span class="p">(</span><span class="n">EntityAPI</span><span class="p">):</span>
    <span class="c1"># Permit the method &amp; requires 'other_permission', and not requires</span>
    <span class="c1"># any other permissions to access.</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'some_access'</span><span class="p">]</span>
    <span class="n">allow_options</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'other_permission'</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.allow_read">
<span class="sig-name descname"><span class="pre">allow_read</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#wefram.api.EntityAPI.allow_read" title="Permalink to this definition">¶</a></dt>
<dd><p>If set to <cite>True</cite> (default) - the method is allowed and will be routed. If
<strong>requires</strong> property has been specified - it will be applied to this method.
If set to <cite>False</cite> - the method is prohibited and will not be routed. If set
to list type - then this method is allowed, will be routed, but requirements
for security access permissions (scopes) will be overrided with the given
list of permissions (even if has been specified by <strong>requires</strong> property).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyEntity1</span><span class="p">(</span><span class="n">EntityAPI</span><span class="p">):</span>
    <span class="c1"># Permit the method, but require 'some_access' permission</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'some_access'</span><span class="p">]</span>
    <span class="n">allow_read</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># may be omitted because by default is True</span>

<span class="k">class</span> <span class="nc">MyEntity2</span><span class="p">(</span><span class="n">EntityAPI</span><span class="p">):</span>
    <span class="c1"># Permit the method &amp; requires 'other_permission', and not requires</span>
    <span class="c1"># any other permissions to access.</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'some_access'</span><span class="p">]</span>
    <span class="n">allow_read</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'other_permission'</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.allow_update">
<span class="sig-name descname"><span class="pre">allow_update</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#wefram.api.EntityAPI.allow_update" title="Permalink to this definition">¶</a></dt>
<dd><p>If set to <cite>True</cite> (default) - the method is allowed and will be routed. If
<strong>requires</strong> property has been specified - it will be applied to this method.
If set to <cite>False</cite> - the method is prohibited and will not be routed. If set
to list type - then this method is allowed, will be routed, but requirements
for security access permissions (scopes) will be overrided with the given
list of permissions (even if has been specified by <strong>requires</strong> property).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyEntity1</span><span class="p">(</span><span class="n">EntityAPI</span><span class="p">):</span>
    <span class="c1"># Permit the method, but require 'some_access' permission</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'some_access'</span><span class="p">]</span>
    <span class="n">allow_update</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># may be omitted because by default is True</span>

<span class="k">class</span> <span class="nc">MyEntity2</span><span class="p">(</span><span class="n">EntityAPI</span><span class="p">):</span>
    <span class="c1"># Permit the method &amp; requires 'other_permission', and not requires</span>
    <span class="c1"># any other permissions to access.</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'some_access'</span><span class="p">]</span>
    <span class="n">allow_update</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'other_permission'</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.app">
<span class="sig-name descname"><span class="pre">app</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#wefram.api.EntityAPI.app" title="Permalink to this definition">¶</a></dt>
<dd><p>The application for which is entity is applicable to. Filled automatically
at the entity registration time.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.handle_create">
<em class="property"><span class="pre">async</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">handle_create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">starlette.requests.Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">starlette.responses.Response</span></span></span><a class="headerlink" href="#wefram.api.EntityAPI.handle_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a single entity object, using JSON or FormData payload
to set it up with the values. Returns no content response 201 if
succeeded.</p>
<p>If argument :argument return_key: setted to ‘true’ - return the new entity
object’s key (which requires FLUSH+COMMIT operation to be executed
in the ORM prior to response been completed, usually).</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.handle_delete">
<em class="property"><span class="pre">async</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">handle_delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">starlette.requests.Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">starlette.responses.Response</span></span></span><a class="headerlink" href="#wefram.api.EntityAPI.handle_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>This method both can delete a single entity object, given using
:path_param key: argument (in the URL), and a set of entity objects,
given by keys[] as URL argument.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.handle_options">
<em class="property"><span class="pre">async</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">handle_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">starlette.requests.Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">starlette.responses.Response</span></span></span><a class="headerlink" href="#wefram.api.EntityAPI.handle_options" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns a dict, containing keys and corresponding
object’s human-readable representations, like names.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.handle_read">
<em class="property"><span class="pre">async</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">handle_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">starlette.requests.Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">starlette.responses.Response</span></span></span><a class="headerlink" href="#wefram.api.EntityAPI.handle_read" title="Permalink to this definition">¶</a></dt>
<dd><p>The method both handling listing of entities, and returning a single
entity data.
If the :path_param key: is not None - the single entity object will be
fetched and resulted as JSONed dict.
If the :path_param key: is None - the list of entity objects will be
fetched, corresponding with the given in args filters, and returned
as JSONed list of objects’ dicts.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.handle_update">
<em class="property"><span class="pre">async</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">handle_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">starlette.requests.Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">starlette.responses.Response</span></span></span><a class="headerlink" href="#wefram.api.EntityAPI.handle_update" title="Permalink to this definition">¶</a></dt>
<dd><p>This method both can update a single entity object, given using
:path_param key: argument (in the URL), and a set of entity objects,
given by keys[] as URL argument (used for batch update of several
objects at a time).</p>
</dd></dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#wefram.api.EntityAPI.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The entity name. Filled automatically basing on the entity class name.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.parse_request_arguments">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_request_arguments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">starlette.requests.Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#wefram.api.EntityAPI.parse_request_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the query arguments (if any) and returns them as dict. For the
current moment - it is just a proxy function to the middleware prepared
arguments’ dict.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.parse_request_payload">
<em class="property"><span class="pre">async</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_request_payload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">starlette.requests.Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#wefram.api.EntityAPI.parse_request_payload" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the payload of the request. If the payload is dict (most often case),
then rename dict’s keys from localCamesCase (typical for the JSON, JS &amp; TS) to
the snake_case (instead, typical for the Python).</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.path_base">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">path_base</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#wefram.api.EntityAPI.path_base" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal method which returns a routing path base string basing (by default)
on the entity class name. Useful for overriding how the entity sounds in the
routing path (URL).</p>
</dd></dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.path_prefix">
<span class="sig-name descname"><span class="pre">path_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#wefram.api.EntityAPI.path_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional prefix used on the absolute routing path generation. This prefix, if
specified, will be used in the routing path right after <cite>/api</cite> and before the rest
of the path. For example:</p>
<p><code class="docutils literal notranslate"><span class="pre">prefix</span> <span class="pre">=</span> <span class="pre">'myprefix'</span></code></p>
<p>The path will be: <code class="docutils literal notranslate"><span class="pre">/api/myprefix/myapp/v1/MyEntity</span></code></p>
</dd></dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.path_suffix">
<span class="sig-name descname"><span class="pre">path_suffix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#wefram.api.EntityAPI.path_suffix" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional suffix used on the absolute routing path generation. This suffix, if
specified, will be used in the routing path at the end. For example:</p>
<p><code class="docutils literal notranslate"><span class="pre">suffix</span> <span class="pre">=</span> <span class="pre">'mysuffix'</span></code></p>
<p>The path will be: <code class="docutils literal notranslate"><span class="pre">/api/myapp/v1/MyEntity/mysuffix</span></code></p>
</dd></dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.paths">
<span class="sig-name descname"><span class="pre">paths</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#wefram.api.EntityAPI.paths" title="Permalink to this definition">¶</a></dt>
<dd><p>The dict, containing registerd API paths for the every API method. For example:
``</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>‘create’: ‘/api/&lt;app&gt;/&lt;EntityName&gt;’,
‘read’: ‘/api/&lt;app&gt;/&lt;EntityName&gt;/&lt;key&gt;’,
‘list’: ‘/api/&lt;app&gt;/&lt;EntityName&gt;’,
‘update’: ‘/api/&lt;app&gt;/&lt;EntityName&gt;/&lt;key&gt;’,
‘update_batch’: ‘/api/&lt;app&gt;/&lt;EntityName&gt;’,
‘options’: ‘/api/&lt;app&gt;/&lt;EntityName&gt;’,
‘options_resolve’: ‘/api/&lt;app&gt;/&lt;EntityName&gt;/resolve’,
‘delete’: ‘/api/&lt;app&gt;/&lt;EntityName&gt;/&lt;key&gt;’,
‘delete_batch’: ‘/api/&lt;app&gt;/&lt;EntityName&gt;’,</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a></p>
<p>So, by accessing the entity class’es <code class="docutils literal notranslate"><span class="pre">path</span></code> property using the corresponding
method key, the programmer may get the absolute URL for accessing the corresponding
API method from the frontend.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.prepare_response">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">prepare_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">200</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">starlette.responses.Response</span></span></span><a class="headerlink" href="#wefram.api.EntityAPI.prepare_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper method which get the handler result and returns the HTTP response.
This allows the handler methods (at CRUD model) to return Python-basic
response like ‘True’ or dict or list, or even just a string, not dealing with
HTTP response generation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result</strong> – The result of the API handler, which may be any kind of type.</p></li>
<li><p><strong>status_code</strong> – The status code which about to use as HTTP status code in the response;
by default is ‘200 OK’;</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The formed and ready to send to the calling frontend client response.</p>
</dd>
</dl>
</dd></dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.requires">
<span class="sig-name descname"><span class="pre">requires</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#wefram.api.EntityAPI.requires" title="Permalink to this definition">¶</a></dt>
<dd><p>The general requirement for access rights. The programmer may list required
permissions (scopes) here and them will be used by default for all API methods,
except ones whose declares own requirements.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyEntity</span><span class="p">(</span><span class="n">EntityAPI</span><span class="p">):</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'mypermission'</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="wefram.api.EntityAPI.version">
<span class="sig-name descname"><span class="pre">version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#wefram.api.EntityAPI.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional, the API version. Gives an ability to handle different versions of the
entity by declaring different entity classes (for example, basing on the one
general class and hanlding differences between versions in the inheited ones.</p>
</dd></dl>
</dd></dl>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="ds/reserved.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Reserved ORM attribute names</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2022, Denis &#34;Reagent&#34; Khodus |
          Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
          <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            | <a class="muted-link" href="_sources/api.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    </body>
</html>